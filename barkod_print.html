<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Barkod Yazdır</title>
<style>
  body {
    margin: 0;
    padding: 20px;
    text-align: center;
    font-family: Arial, sans-serif;
  }
  img {
    width: 100%;
    max-width: 350px;
  }
</style>
</head>
<body>

<img id="barcodeImg" />

<script>
  // PNG base64 buraya gelir
  window.showBarcode = function(base64){
    document.getElementById("barcodeImg").src = "data:image/png;base64," + base64;

    // PNG yüklendikten sonra yazdır ve kapan
    document.getElementById("barcodeImg").onload = () => {
      setTimeout(() => {
        window.print();

        // Yazdırma popup'ı açılınca bu sayfa otomatik kapanır
        setTimeout(() => window.close(), 300);
      }, 200);
    };
  };
</script>

</body>
</html>
